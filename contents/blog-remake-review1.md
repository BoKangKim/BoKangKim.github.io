---
emoji: "🚧"
title: "Next.js에서 Gatsby로 블로그 이사 중간 리뷰"
description: "블로그를 다시 만들기 시작하면서 느낀점을 공유합니다."
date: "2021-08-02"
tag: [Frontend, Review]
---

## 블로그를 다시 제작하려 했던 이유

전에 사용하던 블로그는 Typescript, Next.js로 작성한 웹을 gh-pages로 배포하는 방식이었습니다.
<br>해당 조합이 너무 비효율적인 것 같아서 새 블로그를 만들어야겠다는 생각을 했습니다.

### ☕ 해당 도구들을 사용했던 이유

#### <svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>TypeScript</title><path d="M1.125 0C.502 0 0 .502 0 1.125v21.75C0 23.498.502 24 1.125 24h21.75c.623 0 1.125-.502 1.125-1.125V1.125C24 .502 23.498 0 22.875 0zm17.363 9.75c.612 0 1.154.037 1.627.111a6.38 6.38 0 0 1 1.306.34v2.458a3.95 3.95 0 0 0-.643-.361 5.093 5.093 0 0 0-.717-.26 5.453 5.453 0 0 0-1.426-.2c-.3 0-.573.028-.819.086a2.1 2.1 0 0 0-.623.242c-.17.104-.3.229-.393.374a.888.888 0 0 0-.14.49c0 .196.053.373.156.529.104.156.252.304.443.444s.423.276.696.41c.273.135.582.274.926.416.47.197.892.407 1.266.628.374.222.695.473.963.753.268.279.472.598.614.957.142.359.214.776.214 1.253 0 .657-.125 1.21-.373 1.656a3.033 3.033 0 0 1-1.012 1.085 4.38 4.38 0 0 1-1.487.596c-.566.12-1.163.18-1.79.18a9.916 9.916 0 0 1-1.84-.164 5.544 5.544 0 0 1-1.512-.493v-2.63a5.033 5.033 0 0 0 3.237 1.2c.333 0 .624-.03.872-.09.249-.06.456-.144.623-.25.166-.108.29-.234.373-.38a1.023 1.023 0 0 0-.074-1.089 2.12 2.12 0 0 0-.537-.5 5.597 5.597 0 0 0-.807-.444 27.72 27.72 0 0 0-1.007-.436c-.918-.383-1.602-.852-2.053-1.405-.45-.553-.676-1.222-.676-2.005 0-.614.123-1.141.369-1.582.246-.441.58-.804 1.004-1.089a4.494 4.494 0 0 1 1.47-.629 7.536 7.536 0 0 1 1.77-.201zm-15.113.188h9.563v2.166H9.506v9.646H6.789v-9.646H3.375z"/></svg> Typescript

- 백엔드 작성언어가 Typescript라 프론트역시 같은 언어로 작성하고 싶었음
- 한번 만들어두면 계속 쓸텐데 유지보수하기 확실히 javascript보단 (개인적으로)편하다고 느낌

#### <svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>Next.js</title><path d="M11.5725 0c-.1763 0-.3098.0013-.3584.0067-.0516.0053-.2159.021-.3636.0328-3.4088.3073-6.6017 2.1463-8.624 4.9728C1.1004 6.584.3802 8.3666.1082 10.255c-.0962.659-.108.8537-.108 1.7474s.012 1.0884.108 1.7476c.652 4.506 3.8591 8.2919 8.2087 9.6945.7789.2511 1.6.4223 2.5337.5255.3636.04 1.9354.04 2.299 0 1.6117-.1783 2.9772-.577 4.3237-1.2643.2065-.1056.2464-.1337.2183-.1573-.0188-.0139-.8987-1.1938-1.9543-2.62l-1.919-2.592-2.4047-3.5583c-1.3231-1.9564-2.4117-3.556-2.4211-3.556-.0094-.0026-.0187 1.5787-.0235 3.509-.0067 3.3802-.0093 3.5162-.0516 3.596-.061.115-.108.1618-.2064.2134-.075.0374-.1408.0445-.495.0445h-.406l-.1078-.068a.4383.4383 0 01-.1572-.1712l-.0493-.1056.0053-4.703.0067-4.7054.0726-.0915c.0376-.0493.1174-.1125.1736-.143.0962-.047.1338-.0517.5396-.0517.4787 0 .5584.0187.6827.1547.0353.0377 1.3373 1.9987 2.895 4.3608a10760.433 10760.433 0 004.7344 7.1706l1.9002 2.8782.096-.0633c.8518-.5536 1.7525-1.3418 2.4657-2.1627 1.5179-1.7429 2.4963-3.868 2.8247-6.134.0961-.6591.1078-.854.1078-1.7475 0-.8937-.012-1.0884-.1078-1.7476-.6522-4.506-3.8592-8.2919-8.2087-9.6945-.7672-.2487-1.5836-.42-2.4985-.5232-.169-.0176-1.0835-.0366-1.6123-.037zm4.0685 7.217c.3473 0 .4082.0053.4857.047.1127.0562.204.1642.237.2767.0186.061.0234 1.3653.0186 4.3044l-.0067 4.2175-.7436-1.14-.7461-1.14v-3.066c0-1.982.0093-3.0963.0234-3.1502.0375-.1313.1196-.2346.2323-.2955.0961-.0494.1313-.054.4997-.054z"/></svg> Next.js

- SSR
- 간편한 라우팅
- React에 익숙함

#### <svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg> Gh-pages

- 쉬운 호스팅
- 완전 무료

### 👎 비효율적이라 생한한 부분

- 대중적인 조합이 아니라 정보를 찾기 어려움
- 작성한 post를 배포 과정이 복잡함
- Gh-pages로 배포시 Next.js 장점 감소

<br>
블로그를 거의다 만들고 나서 알게된거지만 SPA, SSR의 장점 때문에 Next.js를 사용하려는데 Gh-pages를 이용해 배포하면 해당 장점들은 크게 의미 없어진다고 합니다.
<br>
<br>
그리고 잔 오류가 너무 많았습니다.
<br>분명 Gh-pages와 Next.js만 사용할때는 괜찮았는데 Typescript를 이용해 작성하면 정적 사이트로 정상 빌드 되지만 Github에 정상적으로 Push되지 않는 경우가 많았습니다.
<br>
<br>처음에는 하나하나 찾아서 수정해가면서 꾸역꾸역 했었는데 Dependencies가 조금만 바뀌어도 다시 오류를 뿜어서 포스팅 시간보다 오류픽스에 더 많은 시간이 들어서 Gh-pages를 포기하고 다른 방법으로 배포하려 했습니다.
<br>(한두번이면 이해하겠는데 생각보다 자주 먹통이었음)
<br>
<br>가장 처음 생각난건 AWS를 이용한 호스팅이었지만 한번 만들어두면 계속 쓸거라는 생각에 기간 한정무료(유료) 서비스는 이용하기 싫었습니다.
<br>평소 토이 프로젝트에 자주 사용했던 Heroku로 배포해봤는데 서버가 Sleep상태면 서버를 다시 깨우는데 시간이 너무 오래걸려서 배포 서비스 외에도 개인 블로그를 만드는데 적합한 다른 도구들이 있는지 찾아보게 되었습니다.

## 새로운 블로그 도구 선정

새삼 개발 도구 선택이 얼마나 중요한지 느꼇습니다.
<br>그동한 혼자 꾸역꾸역 만들어서 사용하던 기능들이 기본적으로 구현되있는 라이브러리들이 많았고 남들이 많이 쓰는데는 이유가 있었습니다.
<br>대중적인 도구는 크게 두가지로 Jekyll, Gatsby가 있었는데 둘다 사용해봤습니다.
<br>그 결과 다음과 같은 이유로 Gatsby가 저한테는 더 맞는것 같았습니다.
<br>(관련 커뮤니티는 Jekyll가 더 활성화 되어있는듯)

### <svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>Jekyll</title><path d="M8.073 24c-.348 0-.689-.063-1.02-.189-1.375-.525-2.104-2.02-1.726-3.402l-.015-.006.09-.226L12.399 2.01c.105-.27.057-.91.006-1.267-.016-.085-.016-.161.008-.24l.008-.023.006-.015V.458l.009-.019c.108-.292.45-.439 1.008-.439.673 0 1.602.21 2.551.573.797.307 1.523.689 2.033 1.075.602.45.842.854.707 1.2l-.031.045-.016.015c-.045.061-.09.12-.15.165-.314.271-.764.735-.84.945l-7.063 18.421-.016-.006c-.494.948-1.457 1.557-2.543 1.561H8.07l.003.006zm-2.187-3.718l-.02.05c-.447 1.201.162 2.557 1.364 3.018.271.105.551.154.837.154.971 0 1.83-.585 2.188-1.5l.027-.061 6.959-18.09c.146-.39.84-1.02.979-1.14l.016-.016c.012-.015.02-.015.02-.03 0-.06-.061-.27-.557-.645-.479-.36-1.154-.72-1.904-1.005-.868-.328-1.768-.539-2.368-.539-.39 0-.524.082-.545.126v.04c.016.104.147 1.035-.034 1.515l-6.962 18.12v.003zm8.95-11.507s-.964 1.109-1.843 1.509c-.88.398-1.529.293-2.32.756-.789.461-1.188 1.103-1.188 1.103L6.27 20.505c-.348.944.168 2.05 1.125 2.42.96.369 2.04-.12 2.412-1.056l5.029-13.094zM9.905 18.76c.104-.041.225 0 .266.105.042.104 0 .222-.105.264-.104.043-.225 0-.266-.104-.042-.097 0-.216.105-.265zm-1.014-1.802c-.152.068-.334 0-.397-.155-.07-.152 0-.334.154-.397.154-.07.335 0 .398.153.074.15.008.314-.155.39v.009zm.286-1.096c-.123-.288 0-.623.287-.758.285-.124.615 0 .75.285.121.289 0 .624-.285.757-.3.126-.629 0-.765-.285l.013.001zm2.426-2.258c.153-.074.335 0 .398.15.07.154 0 .336-.153.399-.155.07-.337 0-.399-.155-.074-.152 0-.334.154-.397v.003zm-1.293-1.379c.105-.042.226 0 .266.105.043.104 0 .226-.104.266-.104.042-.226 0-.265-.104-.044-.106.006-.227.103-.267zM13.681 1.14c.1-.261.993-.162 1.995.226.999.384 1.729.909 1.63 1.17-.104.264-.997.164-1.996-.221-1.005-.385-1.734-.91-1.632-1.176h.003z"/></svg> Jekyll

- 간편하게 블로그 작성 가능
- Ruby가 익숙하지 않아 정해진 템플릿에서 큰 수정이 어려움

### <svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>Gatsby</title><path d="M12 0C5.4 0 0 5.4 0 12s5.4 12 12 12 12-5.4 12-12S18.6 0 12 0zm0 2.571c3.171 0 5.915 1.543 7.629 3.858l-1.286 1.115C16.886 5.572 14.571 4.286 12 4.286c-3.343 0-6.171 2.143-7.286 5.143l9.857 9.857c2.486-.857 4.373-3 4.973-5.572h-4.115V12h6c0 4.457-3.172 8.228-7.372 9.17L2.83 9.944C3.772 5.743 7.543 2.57 12 2.57zm-9.429 9.6l9.344 9.258c-2.4-.086-4.801-.943-6.601-2.743-1.8-1.8-2.743-4.201-2.743-6.515z" /></svg> Gatsby

- 리액트 기반, 라이브러리 대부분 익숙함
- GraphQL을 통해 간편하게 Data 관리 가능
- Typescript 설정이 리액트와 별 차이가 없음

## Gatsby 템플릿을 사용하지 않은 이유

처음에는 블로그용 템플릿중에 마음에 드는게 없어서 다른 용도의 템플릿중에 맘에드는 것을 찾아서 기능을 수정해서 사용하려고 했습니다.
<br>하지만 기능을 추가해 가면서 다음과 같은 문제점이 있어서 그냥 템플릿 없이 기본 Gatsby 설정으로 새 블로그를 만들게 되었습니다.

- 사용하지 않는 잡다한 기능들이 많음
- 최신 CSS로 구현가능한 기능들이 JS로 구현되어있음
- 원래 탬플릿의 스타일과 내가 새로 작성한 스타일이 충돌하는 경우가 있음
- 위와 같은 문제점을 수정하는데 너무 많은 시간을 쓰게됨

## 마지막으로

node.js를 이용해 무언가를 만들때 구조가 너무 자유롭고 사람마다 선호하는 구조가 너무 다르다는걸 느낍니다.
<br>Express에서는 이러한 문제점을 어느정도 해소 가능한 Nest.js가 있지만 이런 단순 프론트 코드를 작성할때 처음에는 괜찮다고 느끼고 나중에 다시보면 비효율적으로 보여서 코드를 갈아엎는 일이 많습니다.

<br>앞으로도 해당 블로그를 관리하고 필요한 기능들도 마저 구현해야겠지만 일단 도구 선택은 만족합니다.
